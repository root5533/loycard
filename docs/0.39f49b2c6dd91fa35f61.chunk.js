webpackJsonp([0],{"3IRH":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},EIGV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("9eBd"),o="https://firebasestorage.googleapis.com",i="/v0",a="/v0",s=12e4,u=6e4,c=-9007199254740991,l=function(){function e(e,t){this.code_=p(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return p(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),h={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function p(e){return"storage/"+e}function f(){return new l(h.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _(){return new l(h.CANCELED,"User canceled the upload/download.")}function d(){return new l(h.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g(e,t,r){return new l(h.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+r)}function E(){return new l(h.APP_DELETED,"The Firebase app was deleted.")}function b(e,t){return new l(h.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function v(e){throw new l(h.INTERNAL_ERROR,"Internal error: "+e)}var m={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function T(e){switch(e){case m.RAW:case m.BASE64:case m.BASE64URL:case m.DATA_URL:return;default:throw"Expected one of the event types: ["+m.RAW+", "+m.BASE64+", "+m.BASE64URL+", "+m.DATA_URL+"]."}}var y=function(e,t){this.data=e,this.contentType=t||null};function R(e,t){switch(e){case m.RAW:return new y(S(t));case m.BASE64:case m.BASE64URL:return new y(N(e,t));case m.DATA_URL:return new y(function(e){var t=new w(e);return t.base64?N(m.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw b(m.DATA_URL,"Malformed data URL.")}return S(t)}(t.rest)}(t),function(e){return new w(e).contentType}(t))}throw f()}function S(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|63&n);else if(55296==(64512&n))if(r<e.length-1&&56320==(64512&e.charCodeAt(r+1))){var o=n,i=e.charCodeAt(++r);t.push(240|(n=65536|(1023&o)<<10|1023&i)>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else t.push(239,191,189);else 56320==(64512&n)?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function N(e,t){switch(e){case m.BASE64:var r=-1!==t.indexOf("-"),n=-1!==t.indexOf("_");if(r||n)throw b(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break;case m.BASE64URL:var o=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(o||i)throw b(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw b(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var w=function(){return function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw b(m.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r,n,o=t[1]||null;null!=o&&(this.base64=(r=o).length>=(n=";base64").length&&r.substring(r.length-n.length)===n,this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=e.substring(e.indexOf(",")+1)}}(),O={STATE_CHANGED:"state_changed"},I={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},A={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k(e){switch(e){case I.RUNNING:case I.PAUSING:case I.CANCELING:return A.RUNNING;case I.PAUSED:return A.PAUSED;case I.SUCCESS:return A.SUCCESS;case I.CANCELED:return A.CANCELED;case I.ERROR:default:return A.ERROR}}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){for(var r in e)U(e,r)&&t(r,e[r])}function C(e){if(null==e)return{};var t={};return D(e,function(e,r){t[e]=r}),t}function P(e){return new Promise(e)}function L(e){return Promise.resolve(e)}function F(e){return null!=e}function B(e){return void 0!==e}function M(e){return"function"==typeof e}function x(e){return"object"==typeof e}function W(e){return x(e)&&null!==e}function G(e){return"string"==typeof e||e instanceof String}function j(e){return K()&&e instanceof Blob}function K(){return"undefined"!=typeof Blob}var H=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),q=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=H.NO_ERROR,this.sendPromise_=P(function(t,r){e.xhr_.addEventListener("abort",function(r){e.errorCode_=H.ABORT,t(e)}),e.xhr_.addEventListener("error",function(r){e.errorCode_=H.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(r){t(e)})})}return e.prototype.send=function(e,t,r,n){var o=this;if(this.sent_)throw v("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(t,e,!0),F(n)&&D(n,function(e,t){o.xhr_.setRequestHeader(e,t.toString())}),F(r)?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw v("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw v("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw v("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){F(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){F(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),V=function(){function e(){}return e.prototype.createXhrIo=function(){return new q},e}(),z=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var r;try{r=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===r.path)return r;throw new l(h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){for(var r=null,n=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],o=0;o<n.length;o++){var i=n[o],a=i.regex.exec(t);if(a){var s=a[i.indices.path];s||(s=""),r=new e(a[i.indices.bucket],s),i.postModify(r);break}}if(null==r)throw function(e){return new l(h.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r},e}();function X(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Y(e){return o+i+e}function Z(e){return o+a+e}function J(e){var t=encodeURIComponent,r="?";return D(e,function(e,n){var o=t(e)+"="+t(n);r=r+o+"&"}),r=r.slice(0,-1)}function $(e,t){return t}var Q=function(){return function(e,t,r,n){this.server=e,this.local=t||e,this.writable=!!r,this.xform=n||$}}(),ee=null;function te(e,t){for(var r={},n=t.length,o=0;o<n;o++){var i=t[o];i.writable&&(r[i.server]=e[i.local])}return JSON.stringify(r)}function re(e){if(!e||!x(e))throw"Expected Metadata object.";for(var t in e){var r=e[t];if("customMetadata"===t){if(!x(r))throw"Expected object for 'customMetadata' mapping."}else if(W(r))throw"Mapping for '"+t+"' cannot be an object."}}function ne(e,t,r){for(var n=t.length,o=t.length,i=0;i<t.length;i++)if(t[i].optional){n=i;break}var a,s,u,c;if(!(n<=r.length&&r.length<=o))throw(a=n)===(s=o)?(u=a,c=1===a?"argument":"arguments"):(u="between "+a+" and "+s,c="arguments"),new l(h.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+e+"`: Expected "+u+" "+c+", received "+r.length+".");for(i=0;i<r.length;i++)try{t[i].validator(r[i])}catch(t){throw t instanceof Error?g(i,e,t.message):g(i,e,t)}}var oe=function(){return function(e,t){var r=this;this.validator=function(t){r.optional&&!B(t)||e(t)},this.optional=!!t}}();function ie(e,t){function r(e){if(!G(e))throw"Expected string."}var n,o,i;return e?(o=r,i=e,n=function(e){o(e),i(e)}):n=r,new oe(n,t)}function ae(e){return new oe(re,e)}function se(){return new oe(function(e){if(!(function(e){return"number"==typeof e||e instanceof Number}(e)&&e>=0))throw"Expected a number 0 or greater."})}function ue(e,t){return new oe(function(t){if(!(null===t||F(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)},t)}function ce(e){return new oe(function(e){if(null!==e&&!M(e))throw"Expected a Function."},e)}function le(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var he=function(){function e(e,t){var r=0,n="";j(e)?(this.data_=e,r=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=n}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,r){if(j(this.data_)){var n=(i=t,a=r,(o=this.data_).webkitSlice?o.webkitSlice(i,a):o.mozSlice?o.mozSlice(i,a):o.slice?o.slice(i,a):null);return null===n?null:new e(n)}var o,i,a;return new e(new Uint8Array(this.data_.buffer,t,r-t),!0)},e.getBlob=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(K()){var n=t.map(function(t){return t instanceof e?t.data_:t});return new e((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=le();if(void 0!==r){for(var n=new r,o=0;o<e.length;o++)n.append(e[o]);return n.getBlob()}if(K())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,n))}var o=t.map(function(e){return G(e)?R(m.RAW,e).data:e.data_}),i=0;o.forEach(function(e){i+=e.byteLength});var a=new Uint8Array(i),s=0;return o.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function pe(e,t){return-1!==e.indexOf(t)}var fe=function(e,t,r,n){this.url=e,this.method=t,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function _e(e){if(!e)throw f()}function de(e,t){return function(r,n){var o=function(e,t,r){var o=function(e){var t,r;try{t=JSON.parse(e)}catch(e){return null}return x(r=t)&&!Array.isArray(r)?t:null}(n);return null===o?null:function(e,t,r){for(var n={type:"file"},o=r.length,i=0;i<o;i++){var a=r[i];n[a.local]=a.xform(n,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var r=new z(e.bucket,e.fullPath);return t.makeStorageReference(r)}})}(n,e),n}(e,o,r)}(e,0,t);return _e(null!==o),o}}function ge(e){return function(t,r){var n;return(n=401===t.getStatus()?new l(h.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new l(h.QUOTA_EXCEEDED,"Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new l(h.UNAUTHORIZED,"User does not have permission to access '"+e.path+"'."):r).setServerResponseProp(r.serverResponseProp()),n}}function Ee(e){var t=ge(e);return function(r,n){var o=t(r,n);return 404===r.getStatus()&&(o=new l(h.OBJECT_NOT_FOUND,"Object '"+e.path+"' does not exist.")),o.setServerResponseProp(n.serverResponseProp()),o}}function be(e,t,r){var n=Y(t.fullServerUrl()),o=e.maxOperationRetryTime(),i=new fe(n,"GET",de(e,r),o);return i.errorHandler=Ee(t),i}function ve(e,t,r){var n=C(r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),n}var me=function(e,t,r,n){this.current=e,this.total=t,this.finalized=!!r,this.metadata=n||null};function Te(e,t){var r;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){_e(!1)}return _e(pe(t||["active"],r)),r}var ye=function(){return function(e,t,r){if(M(e)||F(t)||F(r))this.next=e,this.error=t||null,this.complete=r||null;else{var n=e;this.next=n.next||null,this.error=n.error||null,this.complete=n.complete||null}}}(),Re=function(){function e(e,t,r,n,o,i){this.bytesTransferred=e,this.totalBytes=t,this.state=r,this.metadata=n,this.task=o,this.ref=i}return Object.defineProperty(e.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}return null},enumerable:!0,configurable:!0}),e}();function Se(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];L(!0).then(function(){e.apply(null,t)})}}var Ne=function(){function e(e,t,r,n,o,i){void 0===i&&(i=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=r,this.blob_=o,this.metadata_=i,this.mappings_=n,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=I.RUNNING,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(h.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(I.ERROR))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(h.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(I.ERROR))},this.promise_=P(function(e,t){a.resolve_=e,a.reject_=t,a.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(r,n){e.updateProgress_(t+r)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===I.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(r){switch(t.state_){case I.RUNNING:e(r);break;case I.CANCELING:t.transition_(I.CANCELED);break;case I.PAUSING:t.transition_(I.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var r=function(e,t,r,n,o){var i=t.bucketOnlyServerUrl(),a=ve(t,n,o),s={name:a.fullPath},u=Z(i),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":n.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=te(a,r),h=e.maxUploadRetryTime(),p=new fe(u,"POST",function(e,t){var r;Te(e);try{r=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){_e(!1)}return _e(G(r)),r},h);return p.urlParams=s,p.headers=c,p.body=l,p.errorHandler=ge(t),p}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),n=e.authWrapper_.makeRequest(r,t);e.request_=n,n.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(r){var n=function(t,r,n,o){var i=e.authWrapper_.maxUploadRetryTime(),a=new fe(n,"POST",function(e,t){var r,n=Te(e,["active","final"]);try{r=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){_e(!1)}var i=parseInt(r,10);return _e(!isNaN(i)),new me(i,o.size(),"final"===n)},i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=ge(r),a}(0,e.location_,t,e.blob_),o=e.authWrapper_.makeRequest(n,r);e.request_=o,o.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,r=new me(this.transferred_,this.blob_.size()),n=this.uploadUrl_;this.resolveToken_(function(o){var i;try{i=function(e,t,r,n,o,i,a,s){var u=new me(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=n.size()),n.size()!==u.total)throw new l(h.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,p=c;o>0&&(p=Math.min(p,o));var f=u.current,_={"X-Goog-Upload-Command":p===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},g=n.slice(f,f+p);if(null===g)throw d();var E=t.maxUploadRetryTime(),b=new fe(r,"POST",function(e,r){var o,a=Te(e,["active","final"]),s=u.current+p,c=n.size();return o="final"===a?de(t,i)(e,r):null,new me(s,c,"final"===a,o)},E);return b.headers=_,b.body=g.uploadData(),b.progressCallback=s||null,b.errorHandler=ge(e),b}(e.location_,e.authWrapper_,n,e.blob_,t,e.mappings_,r,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(I.ERROR)}var a=e.authWrapper_.makeRequest(i,o);e.request_=a,a.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(I.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var r=be(e.authWrapper_,e.location_,e.mappings_),n=e.authWrapper_.makeRequest(r,t);e.request_=n,n.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(I.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var r=function(e,t,r,n,o){var i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=ve(t,n,o),c=te(u,r),l=he.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",n,"\r\n--"+s+"--");if(null===l)throw d();var h={name:u.fullPath},p=Z(i),f=e.maxUploadRetryTime(),_=new fe(p,"POST",de(e,r),f);return _.urlParams=h,_.headers=a,_.body=l.uploadData(),_.errorHandler=ge(t),_}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),n=e.authWrapper_.makeRequest(r,t);e.request_=n,n.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(I.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case I.CANCELING:case I.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case I.RUNNING:var t=this.state_===I.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case I.PAUSED:this.state_=e,this.notifyObservers_();break;case I.CANCELED:this.error_=_(),this.state_=e,this.notifyObservers_();break;case I.ERROR:case I.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case I.PAUSING:this.transition_(I.PAUSED);break;case I.CANCELING:this.transition_(I.CANCELED);break;case I.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=k(this.state_);return new Re(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,r,n){void 0===t&&(t=void 0),void 0===r&&(r=void 0),void 0===n&&(n=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",i=ce(!0).validator,a=ue(null,!0).validator;function s(e){try{return void i(e)}catch(e){}try{if(a(e),!(B(e.next)||B(e.error)||B(e.complete)))throw"";return}catch(e){throw o}}ne("on",[ie(function(t){if(e!==O.STATE_CHANGED)throw"Expected one of the event types: ["+O.STATE_CHANGED+"]."}),ue(s,!0),ce(!0),ce(!0)],arguments);var u=this;function c(e){return function(t,r,o){null!==e&&ne("on",e,arguments);var i=new ye(t,r,n);return u.addObserver_(i),function(){u.removeObserver_(i)}}}var l=[ue(function(e){if(null===e)throw o;s(e)}),ce(!0),ce(!0)];return B(t)||B(r)||B(n)?c(null)(t,r,n):c(l)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t,r;-1!==(r=(t=this.observers_).indexOf(e))&&t.splice(r,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(t){e.notifyObserver_(t)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(k(this.state_)){case A.SUCCESS:Se(this.resolve_.bind(null,this.snapshot))();break;case A.CANCELED:case A.ERROR:Se(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(k(this.state_)){case A.RUNNING:case A.PAUSED:null!==e.next&&Se(e.next.bind(e,this.snapshot))();break;case A.SUCCESS:null!==e.complete&&Se(e.complete.bind(e))();break;case A.CANCELED:case A.ERROR:null!==e.error&&Se(e.error.bind(e,this.error_))();break;default:null!==e.error&&Se(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){ne("resume",[],arguments);var e=this.state_===I.PAUSED||this.state_===I.PAUSING;return e&&this.transition_(I.RUNNING),e},e.prototype.pause=function(){ne("pause",[],arguments);var e=this.state_===I.RUNNING;return e&&this.transition_(I.PAUSING),e},e.prototype.cancel=function(){ne("cancel",[],arguments);var e=this.state_===I.RUNNING||this.state_===I.PAUSING;return e&&this.transition_(I.CANCELING),e},e}(),we=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof z?t:z.makeFromUrl(t)}return e.prototype.toString=function(){return ne("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,r){return new e(t,r)},e.prototype.mappings=function(){return function(){if(ee)return ee;var e=[];e.push(new Q("bucket")),e.push(new Q("generation")),e.push(new Q("metageneration")),e.push(new Q("name","fullPath",!0));var t=new Q("name");t.xform=function(e,t){return function(e){return!G(e)||e.length<2?e:X(e=e)}(t)},e.push(t);var r=new Q("size");return r.xform=function(e,t){return F(t)?+t:t},e.push(r),e.push(new Q("timeCreated")),e.push(new Q("updated")),e.push(new Q("md5Hash",null,!0)),e.push(new Q("cacheControl",null,!0)),e.push(new Q("contentDisposition",null,!0)),e.push(new Q("contentEncoding",null,!0)),e.push(new Q("contentLanguage",null,!0)),e.push(new Q("contentType",null,!0)),e.push(new Q("metadata","customMetadata",!0)),e.push(new Q("downloadTokens","downloadURLs",!1,function(e,t){if(!(G(t)&&t.length>0))return[];var r=encodeURIComponent;return t.split(",").map(function(t){var n,o=e.fullPath;return n="/b/"+r(e.bucket)+"/o/"+r(o),"https://firebasestorage.googleapis.com"+i+n+J({alt:"media",token:t})})})),ee=e}()},e.prototype.child=function(e){ne("child",[ie()],arguments);var t=function(e,t){var r=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?r:e+"/"+r}(this.location.path,e),r=new z(this.location.bucket,t);return this.newRef(this.authWrapper,r)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new z(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new z(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return X(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),ne("put",[new oe(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||K()&&e instanceof Blob))throw"Expected Blob or File."}),ae(!0)],arguments),this.throwIfRoot_("put"),new Ne(this,this.authWrapper,this.location,this.mappings(),new he(e),t)},e.prototype.putString=function(e,t,r){void 0===t&&(t=m.RAW),ne("putString",[ie(),ie(T,!0),ae(!0)],arguments),this.throwIfRoot_("putString");var n=R(t,e),o=C(r);return!F(o.contentType)&&F(n.contentType)&&(o.contentType=n.contentType),new Ne(this,this.authWrapper,this.location,this.mappings(),new he(n.data,!0),o)},e.prototype.delete=function(){ne("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var r=function(e,t){var r=Y(t.fullServerUrl()),n=e.maxOperationRetryTime(),o=new fe(r,"DELETE",function(e,t){},n);return o.successCodes=[200,204],o.errorHandler=Ee(t),o}(e.authWrapper,e.location);return e.authWrapper.makeRequest(r,t).getPromise()})},e.prototype.getMetadata=function(){ne("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var r=be(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(r,t).getPromise()})},e.prototype.updateMetadata=function(e){ne("updateMetadata",[ae()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(r){var n=function(e,t,r,n){var o=Y(t.fullServerUrl()),i=te(r,n),a=e.maxOperationRetryTime(),s=new fe(o,"PATCH",de(e,n),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=i,s.errorHandler=Ee(t),s}(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(n,r).getPromise()})},e.prototype.getDownloadURL=function(){return ne("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(e){var t=e.downloadURLs[0];if(F(t))return t;throw new l(h.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new l(h.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),Oe=function(){function e(e){this.promise_=function(e){return Promise.reject(e)}(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),Ie=function(){function e(){this.map_={},this.id_=c}return e.prototype.addRequest=function(e){var t=this.id_;this.id_++,this.map_[t]=e;var r=this;function n(){delete r.map_[t]}e.getPromise().then(n,n)},e.prototype.clear=function(){D(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},e}(),Ae=function(){function e(t,r,n,o,i){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;F(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=r,this.requestMaker_=n,this.pool_=i,this.service_=o,this.maxOperationRetryTime_=s,this.maxUploadRetryTime_=u,this.requestMap_=new Ie}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:z.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&F(this.app_.INTERNAL)&&F(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):L(null)},e.prototype.bucket=function(){if(this.deleted_)throw E();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new Oe(E());var r=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(r),r},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),ke=function(){function e(e,t,r,n,o,i,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=r,this.body_=n,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=P(function(e,t){h.resolve_=e,h.reject_=t,h.start_()})}return e.prototype.start_=function(){var e=this;function t(t,r){var n,o=e.resolve_,i=e.reject_,a=r.xhr;if(r.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());B(s)?o(s):o()}catch(e){i(e)}else null!==a?((n=f()).setServerResponseProp(a.getResponseText()),i(e.errorCallback_?e.errorCallback_(a,n):n)):i(n=r.canceled?e.appDelete_?E():_():new l(h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Ue(!1,null,!0)):this.backoffId_=function(e,t,r){var n=1,o=null,i=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,t.apply(null,arguments))}function l(t){o=setTimeout(function(){o=null,e(h,s())},t)}function h(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];u||(e?c.apply(null,arguments):s()||i?c.apply(null,arguments):(n<64&&(n*=2),1===a?(a=2,t=0):t=1e3*(n+Math.random()),l(t)))}var p=!1;function f(e){p||(p=!0,u||(null!==o?(e||(a=2),clearTimeout(o),l(0)):e||(a=1)))}return l(0),setTimeout(function(){i=!0,f(!0)},r),f}(function(t,r){if(r)t(!1,new Ue(!1,null,!0));else{var n=e.pool_.createXhrIo();e.pendingXhr_=n,null!==e.progressCallback_&&n.addUploadProgressListener(o),n.send(e.url_,e.method_,e.body_,e.headers_).then(function(r){null!==e.progressCallback_&&r.removeUploadProgressListener(o),e.pendingXhr_=null;var n=(r=r).getErrorCode()===H.NO_ERROR,i=r.getStatus();if(n&&!e.isRetryStatusCode_(i)){var a=pe(e.successCodes_,i);t(!0,new Ue(a,r))}else{var s=r.getErrorCode()===H.ABORT;t(!1,new Ue(!1,null,s))}})}function o(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,r=pe([408,429],e),n=pe(this.additionalRetryCodes_,e);return t||r||n},e}(),Ue=function(e,t,r){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!r};function De(e,t,r){var o=J(e.urlParams),i=e.url+o,a=C(e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,t),function(e){e["X-Firebase-Storage-Version"]="webjs/"+("undefined"!=typeof n.default?n.default.SDK_VERSION:"AppManager")}(a),new ke(i,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}var Ce=function(){function e(e,t,r){if(this.bucket_=null,this.authWrapper_=new Ae(e,function(e,t){return new we(e,t)},De,this,t),this.app_=e,null!=r)this.bucket_=z.makeFromBucketSpec(r);else{var n=this.authWrapper_.bucket();null!=n&&(this.bucket_=new z(n,""))}this.internals_=new Pe(this)}return e.prototype.ref=function(e){if(ne("ref",[ie(function(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new we(this.authWrapper_,this.bucket_);return null!=e?t.child(e):t},e.prototype.refFromURL=function(e){return ne("refFromURL",[ie(function(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{z.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new we(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){ne("setMaxUploadRetryTime",[se()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){ne("setMaxOperationRetryTime",[se()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Pe=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),L(void 0)},e}();t.registerStorage=Be;var Le="storage";function Fe(e,t,r){return new Ce(e,new V,r)}function Be(e){e.INTERNAL.registerService(Le,Fe,{TaskState:A,TaskEvent:O,StringFormat:m,Storage:Ce,Reference:we},void 0,!0)}Be(n.default)},KZxH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("TToO"),i=r("+lT7"),a={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},s={codes:a,map:((n={})[a.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",n[a.AVAILABLE_IN_SW]="This method is available in a service worker context.",n[a.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",n[a.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",n[a.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",n[a.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",n[a.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",n[a.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",n[a.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",n[a.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",n[a.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",n[a.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",n[a.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",n[a.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",n[a.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",n[a.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",n[a.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",n[a.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",n[a.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",n[a.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",n[a.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",n[a.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",n[a.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",n[a.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",n[a.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",n[a.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",n[a.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",n[a.BAD_SCOPE]="The service worker scope must be a string with at least one character.",n[a.BAD_VAPID_KEY]="The public VAPID key must be a string with at least one character.",n[a.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",n[a.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",n[a.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",n[a.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",n)},u=function(e){return function(e){var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},c=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],l={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:c,SUBSCRIPTION_OPTIONS:{userVisibleOnly:!0,applicationServerKey:new Uint8Array(c)}},h="fcm_token_object_Store",p=function(){function e(){this.errorFactory_=new i.ErrorFactory("messaging","Messaging",s.map),this.openDbPromise_=null}return e.prototype.openDatabase_=function(){return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(t,r){var n=indexedDB.open(e.DB_NAME,1);n.onerror=function(e){r(e.target.error)},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(h,{keyPath:"swScope"});t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}}),this.openDbPromise_)},e.prototype.closeDatabase=function(){var e=this;return this.openDbPromise_?this.openDbPromise_.then(function(t){t.close(),e.openDbPromise_=null}):Promise.resolve()},e.prototype.getTokenDetailsFromToken=function(e){return this.openDatabase_().then(function(t){return new Promise(function(r,n){var o=t.transaction([h]).objectStore(h).index("fcmToken").get(e);o.onerror=function(e){n(e.target.error)},o.onsuccess=function(e){r(e.target.result)}})})},e.prototype.getTokenDetailsFromSWScope_=function(e){return this.openDatabase_().then(function(t){return new Promise(function(r,n){var o=t.transaction([h]).objectStore(h).get(e);o.onerror=function(e){n(e.target.error)},o.onsuccess=function(e){r(e.target.result)}})})},e.prototype.getAllTokenDetailsForSenderId_=function(e){return this.openDatabase_().then(function(t){return new Promise(function(r,n){var o=[],i=t.transaction([h]).objectStore(h).openCursor();i.onerror=function(e){n(e.target.error)},i.onsuccess=function(t){var n=t.target.result;n?(n.value.fcmSenderId===e&&o.push(n.value),n.continue()):r(o)}})})},e.prototype.subscribeToFCM=function(e,t,r){var n=this,o=u(t.getKey("p256dh")),i=u(t.getKey("auth")),a="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+o+"&encryption_auth="+i;r&&(a+="&pushSet="+r);var c=new Headers;return c.append("Content-Type","application/x-www-form-urlencoded"),fetch(l.ENDPOINT+"/fcm/connect/subscribe",{method:"POST",headers:c,body:a}).then(function(e){return e.json()}).then(function(e){var t=e;if(t.error)throw n.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_FAILED,{message:t.error.message});if(!t.token)throw n.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw n.errorFactory_.create(s.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})},e.prototype.isSameSubscription_=function(e,t){return e.endpoint===t.endpoint&&u(e.getKey("auth"))===t.auth&&u(e.getKey("p256dh"))===t.p256dh},e.prototype.saveTokenDetails_=function(e,t,r,n,o){var i={swScope:t.scope,endpoint:r.endpoint,auth:u(r.getKey("auth")),p256dh:u(r.getKey("p256dh")),fcmToken:n,fcmPushSet:o,fcmSenderId:e};return this.openDatabase_().then(function(e){return new Promise(function(t,r){var n=e.transaction([h],"readwrite").objectStore(h).put(i);n.onerror=function(e){r(e.target.error)},n.onsuccess=function(e){t()}})})},e.prototype.getSavedToken=function(e,t){var r=this;return t instanceof ServiceWorkerRegistration?"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(s.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(e).then(function(r){if(0!==r.length){var n=r.findIndex(function(r){return t.scope===r.swScope&&e===r.fcmSenderId});if(-1!==n)return r[n]}}).then(function(e){if(e)return t.pushManager.getSubscription().catch(function(e){throw r.errorFactory_.create(s.codes.GET_SUBSCRIPTION_FAILED)}).then(function(t){if(t&&r.isSameSubscription_(t,e))return e.fcmToken})}):Promise.reject(this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED))},e.prototype.createToken=function(e,t){var r,n,o=this;return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(s.codes.BAD_SENDER_ID)):t instanceof ServiceWorkerRegistration?t.pushManager.getSubscription().then(function(e){return e||t.pushManager.subscribe(l.SUBSCRIPTION_OPTIONS)}).then(function(t){return o.subscribeToFCM(e,r=t)}).then(function(i){return o.saveTokenDetails_(e,t,r,(n=i).token,n.pushSet)}).then(function(){return n.token}):Promise.reject(this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED))},e.prototype.deleteToken=function(e){var t=this;return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(s.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(e){if(!e)throw t.errorFactory_.create(s.codes.DELETE_TOKEN_NOT_FOUND);return t.openDatabase_().then(function(r){return new Promise(function(n,o){var i=r.transaction([h],"readwrite").objectStore(h).delete(e.swScope);i.onerror=function(e){o(e.target.error)},i.onsuccess=function(r){0!==r.target.result?n(e):o(t.errorFactory_.create(s.codes.FAILED_TO_DELETE_TOKEN))}})})})},e}(),f="messagingSenderId",_=function(){function e(e){var t=this;if(this.errorFactory_=new i.ErrorFactory("messaging","Messaging",s.map),!e.options[f]||"string"!=typeof e.options[f])throw this.errorFactory_.create(s.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options[f],this.tokenManager_=new p,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}}return e.prototype.getToken=function(){var e=this,t=this.getNotificationPermission_();return"granted"!==t?"denied"===t?Promise.reject(this.errorFactory_.create(s.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then(function(t){return e.tokenManager_.getSavedToken(e.messagingSenderId_,t).then(function(r){return r||e.tokenManager_.createToken(e.messagingSenderId_,t)})})},e.prototype.deleteToken=function(e){var t=this;return this.tokenManager_.deleteToken(e).then(function(){return t.getSWRegistration_().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})},e.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(s.codes.SHOULD_BE_INHERITED)},e.prototype.requestPermission=function(){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,r){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,r){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw this.errorFactory_.create(s.codes.AVAILABLE_IN_SW)},e.prototype.delete=function(){return this.tokenManager_.closeDatabase()},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenManager=function(){return this.tokenManager_},e}(),d={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},g=d,E=function(e,t){var r;return(r={})[d.TYPE_OF_MSG]=e,r[d.DATA]=t,r},b=function(e){function t(t){var r=e.call(this,t)||this;return r.messageObserver_=null,r.onMessage_=Object(i.createSubscribe)(function(e){r.messageObserver_=e}),r.tokenRefreshObserver_=null,r.onTokenRefresh_=Object(i.createSubscribe)(function(e){r.tokenRefreshObserver_=e}),r.setupSWMessageListener_(),r}return Object(o.__extends)(t,e),t.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return e.prototype.getToken.call(t)}):Promise.reject(this.errorFactory_.create(s.codes.UNSUPPORTED_BROWSER))},t.prototype.manifestCheck_=function(){var e=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var t=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=t?fetch(t.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.errorFactory_.create(s.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_},t.prototype.requestPermission=function(){var e=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(t,r){var n=function(n){return"granted"===n?t():r(e.errorFactory_.create("denied"===n?s.codes.PERMISSION_BLOCKED:s.codes.PERMISSION_DEFAULT))},o=Notification.requestPermission(function(e){o||n(e)});o&&o.then(n)})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(s.codes.SW_REGISTRATION_EXPECTED);if("undefined"!=typeof this.registrationToUse_)throw this.errorFactory_.create(s.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e},t.prototype.onMessage=function(e,t,r){return this.onMessage_(e,t,r)},t.prototype.onTokenRefresh=function(e,t,r){return this.onTokenRefresh_(e,t,r)},t.prototype.waitForRegistrationToActivate_=function(e){var t=this,r=e.installing||e.waiting||e.active;return new Promise(function(n,o){if(r)if("activated"!==r.state)if("redundant"!==r.state){var i=function(){if("activated"===r.state)n(e);else{if("redundant"!==r.state)return;o(t.errorFactory_.create(s.codes.SW_REG_REDUNDANT))}r.removeEventListener("statechange",i)};r.addEventListener("statechange",i)}else o(t.errorFactory_.create(s.codes.SW_REG_REDUNDANT));else n(e);else o(t.errorFactory_.create(s.codes.NO_SW_IN_REG))})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw e.errorFactory_.create(s.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse_=t,t.update(),t})}))},t.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[g.TYPE_OF_MSG]){var r=t.data;switch(r[g.TYPE_OF_MSG]){case"push-msg-received":case"notification-clicked":e.messageObserver_.next(r[g.DATA])}}},!1)},t.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},t}(_),v=function(e){function t(t){var r=e.call(this,t)||this;return self.addEventListener("push",function(e){return r.onPush_(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return r.onSubChange_(e)},!1),self.addEventListener("notificationclick",function(e){return r.onNotificationClick_(e)},!1),r.bgMessageHandler_=null,r}return Object(o.__extends)(t,e),t.prototype.onPush_=function(e){var t,r=this;try{t=e.data.json()}catch(e){return}var n=this.hasVisibleClients_().then(function(e){if(e)return t.notification||r.bgMessageHandler_?r.sendMessageToWindowClients_(t):void 0;var n=r.getNotificationData_(t);return n?self.registration.showNotification(n.title||"",n):r.bgMessageHandler_?r.bgMessageHandler_(t):void 0});e.waitUntil(n)},t.prototype.onSubChange_=function(e){var t=this,r=this.getToken().then(function(e){if(!e)throw t.errorFactory_.create(s.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var r=null,n=t.getTokenManager();return n.getTokenDetailsFromToken(e).then(function(e){if(!(r=e))throw t.errorFactory_.create(s.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(l.SUBSCRIPTION_OPTIONS)}).then(function(e){return n.subscribeToFCM(r.fcmSenderId,e,r.fcmPushSet)}).catch(function(e){return n.deleteToken(r.fcmToken).then(function(){throw t.errorFactory_.create(s.codes.UNABLE_TO_RESUBSCRIBE,{message:e})})})});e.waitUntil(r)},t.prototype.onNotificationClick_=function(e){var t=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var r=e.notification.data.FCM_MSG,n=r.notification.click_action;if(n){var o=this.getWindowClient_(n).then(function(e){return e||self.clients.openWindow(n)}).then(function(e){if(e){delete r.notification;var n=E("notification-clicked",r);return t.attemptToMessageClient_(e,n)}});e.waitUntil(o)}}},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t,r=Object.assign({},e.notification);return r.data=((t={}).FCM_MSG=e,t),r}},t.prototype.setBackgroundMessageHandler=function(e){if(e&&"function"!=typeof e)throw this.errorFactory_.create(s.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e},t.prototype.getWindowClient_=function(e){var t=new URL(e).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var r=null,n=0;n<e.length;n++)if(new URL(e[n].url).href===t){r=e[n];break}if(r)return r.focus(),r})},t.prototype.attemptToMessageClient_=function(e,t){var r=this;return new Promise(function(n,o){if(!e)return o(r.errorFactory_.create(s.codes.NO_WINDOW_CLIENT_TO_MSG));e.postMessage(t),n()})},t.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})},t.prototype.sendMessageToWindowClients_=function(e){var t=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(r){var n=E("push-msg-received",e);return Promise.all(r.map(function(e){return t.attemptToMessageClient_(e,n)}))})},t.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},t}(_),m=r("9eBd");function T(e){e.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new v(e):new b(e)},{Messaging:b})}t.registerMessaging=T,T(m.default)},Sazm:function(e,t,r){var n=r("It2I");r("YtIj"),r("/f1z"),r("TG4O"),r("qpil"),e.exports=n},TG4O:function(e,t,r){r("KZxH")},qpil:function(e,t,r){r("EIGV")}});